━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

           POTI-board用テンプレート「PINK」
                 by さとぴあ ( http://stp.sblo.jp )

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ぷにゅねっと http://www.punyu.net/php/
のPOTI-boardをphp7で使えるように改造した

POTI-boardv1.32.12 lot.180130
https://poti-k.info/

以降に対応したテンプレートです。

MONO WHITEと、Cool Solid ( 黒鋼彗牙さん作・ https://draclaw.com )をベースにして、カスタマイズしました。
かなりの部分をCool Solidに依存しているため、テンプレートの著作権表記はCool Solid & PINKです。

画像アップロード掲示板ではなくお絵かき掲示板、というコンセプトで作成したテンプレートです。

■無保証

問題なく動作することを期待して作成していますが、このテンプレートを使った事により何らかの問題が起きたとしても、私は責任を負いません。

サーバその他の条件によっては期待通りの動作をしないかもしれません。
動作するかどうかはご自身で確認していただく必要があります。

■アップロード

POTI改公式サイト https://poti-k.info/

から、POTI-board改をダウンロードし、設置ディレクトリにアップロードします。

ぷにゅねっとからダウンロードしたPOTI-boardでは動作しません。

お絵かきツールのダウンロードとアップロード。

https://github.com/funige/neo/　から

PaintBBS NEOを使うために必要なファイル、

「neo.js」と「neo.css」をダウンロードして、設置ディレクトリにアップロードします。

上記サイトのトップのneo→distの中にあります。

このテンプレートの以下のファイルをアップロードします。

pink_main.html
pink_other.html
pink_paint.html
pink_res.html
pink_catalog.html
pink.css
pink_ie.css
palette.txt
siihelp.php
template_ini.php

icomoon フォルダとその中身も同じディレクトリにアップロードします。
TwitterとFacebookのアイコンが入っています。

■動作確認

動作確認をする前に設定を変更すると、問題が発生した時に原因がわからなくなります。設定を変更するのは問題なく動作している事を確認してからです。

すべてのファイルの転送が終わったら

potiboard.php　にアクセスします。

index.htmlが作成されます。
試しになにか描いて投稿します。

必要なディレクトリが作成され、パーミッションの設定もすでに終わっていると思います。

さくらのレンタルサーバライトとXAMPPで動作確認した限りではこの方法で問題ありませんでした。

うまく投稿できなかった場合は、

>サーバーによっては権限の問題で自動作成されたディレクトリへの書込みができない事があります（AAA!CAFEなど） 
http://www.punyu.net/php/readme.php?txt=potisetup2

を参考にしてみてください。

■カスタマイズ

UTF-8対応のテキストエディタで編集することをおすすめします。
（秀丸エディタ、サクラエディタなど）

テンプレートにはPOTI-board独自の変数が使用されています。

例）
<!--{def hoge}-->～<!--{/def}-->

この変数の文法を間違えたり、必要な箇所を削除すると掲示板が表示されなくなるため注意が必要です。

■特徴

//お絵かき機能を使用する お絵かきのみ:2 する:1 しない:0
define('USE_PAINT', '2');

とした場合は、画像アップロードができなくなるようにしてあります。
画像アップロード掲示場ではなく、お絵かき掲示板として使うためです。

管理用→管理パス入力→管理人投稿からは画像をアップロードする事ができます。

文字の色選択非対応。
文字の色を選択をしても、#666666になります。

//シェアボタンを表示する する:1 しない:0
//設置場所のURL ROOT_URL で設定したurlをもとにリンクを作成
define('SHARE_BUTTON', '1');

で 1 を選択すると、TweetボタンとFacebookのシェアボタンが表示されるようになります。
Twitterカードに表示するためのアイッキャッチ画像に、投稿された画像が使われるようになります。

//シェアボタンを表示する する:1 しない:0
define('SHARE_BUTTON', '0');

に設定すると、シェアボタンだけでなく、アイキャッチ画像も表示されなくなります。

シェアボタンを使う場合は、

//設置場所のURL。'/'まで
define('ROOT_URL', 'http://www.hoge.ne.jp/');

の設定が必要です。

レスポンシブデザイン。

iPad（768px）未満の解像度の場合は画像の下にコメントを移動。

コメントの幅は最低でも200pxで
その幅が確保できない場合は画像の下にコメントを移動。

画像の横幅が大きくてもスマートフォンなどの端末の横幅にあわせて表示上のサイズを縮小します。

エラー画面。

エラー画面に、従来リロードのリンクが出ていたところをjavaScriptで前の画面に戻るリンクに変更。
リロードすると書きかけのコメントが消えてしまうためです。

ブラウザのリロードと同じ動作をするリンクを掲示板のメニューに追加。

その時その時の掲示板のモードをわかりやすく表示。

Chromeによるパスワード保存時、名前+パスワードとなるようにフォーム入力欄のautocomplete属性を設定。

コメントスパム対策。

ホームページのURL入力欄にURLを入力しても、Googleがリンクを辿らないように設定。

特定のリンクに対して rel="nofollow" を使用する - Search Console ヘルプ
https://support.google.com/webmasters/answer/96569?hl=ja

プライバシー。

URL欄や著作権表示のリンクをクリックしても、掲示板のURLが相手のアクセスログに残りません。

■著作権表示

「MONO WHITE」に準じるものとします。